<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Minecraft Server Control Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #e0e0e0; min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; background-color: rgba(30, 30, 46, 0.9); border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); }

        /* Nag≈Ç√≥wek i Nawigacja */
        header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #3498db; }
        header h1 { color: #3498db; font-size: 2.5rem; margin-bottom: 10px; }
        header .subtitle { color: #95a5a6; font-size: 1.1rem; }
        .nav-tabs { display: flex; background-color: rgba(40, 40, 60, 0.8); border-radius: 10px; margin-bottom: 30px; overflow: hidden; border: 1px solid #444; }
        .nav-tab { flex: 1; text-align: center; padding: 20px; cursor: pointer; color: #95a5a6; font-weight: bold; font-size: 1.1rem; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .nav-tab:hover { background-color: rgba(52, 152, 219, 0.2); color: #3498db; }
        .nav-tab.active { background-color: #3498db; color: white; }

        /* Uk≈Çad zawarto≈õci - ukrywanie/wy≈õwietlanie sekcji */
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* === STYLE DLA PANELU G≈Å√ìWNEGO (tab-server) === */
        .control-panel { display: grid; grid-template-columns: 1fr 2fr; gap: 30px; margin-bottom: 30px; }
        @media (max-width: 768px) { .control-panel { grid-template-columns: 1fr; } }
        .status-box, .buttons { background-color: rgba(40, 40, 60, 0.8); padding: 25px; border-radius: 10px; border: 1px solid #444; }
        .status-box h2, .buttons h2 { color: #3498db; margin-bottom: 20px; font-size: 1.5rem; }
        #serverStatus { padding: 15px; border-radius: 8px; margin-bottom: 15px; display: flex; align-items: center; font-size: 1.2rem; font-weight: bold; }
        .status.dzia≈Ça { background-color: rgba(46, 204, 113, 0.2); border: 2px solid #2ecc71; color: #2ecc71; }
        .status.zatrzymany { background-color: rgba(231, 76, 60, 0.2); border: 2px solid #e74c3c; color: #e74c3c; }
        .status.uruchamianie { background-color: rgba(243, 156, 18, 0.2); border: 2px solid #f39c12; color: #f39c12; }
        .status.unknown { background-color: rgba(149, 165, 166, 0.2); border: 2px solid #95a5a6; color: #95a5a6; }
        .server-info { color: #95a5a6; font-size: 0.9rem; }
        .server-info strong { color: #3498db; }
        .button-group { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; }
        .btn { padding: 12px 20px; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; transition: all 0.3s ease; gap: 8px; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; box-shadow: none !important; }
        .btn-success { background-color: #2ecc71; color: white; }
        .btn-danger { background-color: #e74c3c; color: white; }
        .btn-warning { background-color: #f39c12; color: white; }
        .btn-primary { background-color: #3498db; color: white; }
        .btn-small { padding: 8px 15px; font-size: 0.9rem; }
        .console-container { background-color: rgba(20, 20, 30, 0.95); border-radius: 10px; overflow: hidden; margin-bottom: 30px; border: 1px solid #444; }
        .console-header { background-color: #2c3e50; padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        .console-header h2 { color: #3498db; }
        .console-output { padding: 20px; max-height: 400px; overflow-y: auto; background-color: #1a1a2e; }
        #consoleLog { color: #00ff9d; font-family: 'Courier New', monospace; font-size: 1rem; line-height: 1.5; white-space: pre-wrap; word-wrap: break-word; min-height: 200px; }
        .console-input { display: flex; padding: 15px; background-color: #2c3e50; border-top: 1px solid #444; }
        #commandInput { flex-grow: 1; padding: 12px 15px; border: none; border-radius: 6px; background-color: #34495e; color: white; font-size: 1rem; }
        .extra-menu { background-color: rgba(40, 40, 60, 0.8); padding: 20px; border-radius: 10px; margin-top: 20px; border: 1px solid #444; }
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .connection-info { background-color: rgba(40, 40, 60, 0.8); padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .connection-info h3 { color: #3498db; margin-bottom: 15px; }
        .connection-info code { background-color: #2c3e50; padding: 3px 8px; border-radius: 4px; color: #2ecc71; }

        /* === STYLE DLA FILE MANAGERA (tab-files) === */
        .file-manager-container { display: grid; grid-template-columns: 1fr 3fr; gap: 30px; margin-bottom: 30px; }
        @media (max-width: 1024px) { .file-manager-container { grid-template-columns: 1fr; } }
        .file-actions-sidebar { background-color: rgba(40, 40, 60, 0.8); padding: 25px; border-radius: 10px; border: 1px solid #444; height: fit-content; }
        .file-main-content { background-color: rgba(40, 40, 60, 0.8); padding: 25px; border-radius: 10px; border: 1px solid #444; min-height: 600px; }
        .file-path-display { background-color: #2c3e50; padding: 12px 20px; border-radius: 6px; margin-bottom: 20px; font-family: monospace; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        .path-text { color: #2ecc71; font-weight: bold; }
        .file-actions-bar { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .file-table-container { overflow-x: auto; border-radius: 8px; background-color: rgba(20, 20, 30, 0.95); border: 1px solid #444; }
        .file-table { width: 100%; border-collapse: collapse; min-width: 800px; }
        .file-table th { background-color: #2c3e50; padding: 15px; text-align: left; color: #3498db; font-weight: bold; border-bottom: 2px solid #3498db; }
        .file-table td { padding: 12px 15px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .file-table tr:hover { background-color: rgba(52, 152, 219, 0.1); }
        .file-icon { margin-right: 8px; color: #3498db; }
        .folder-icon { color: #f39c12; }
        .file-actions { display: flex; gap: 5px; }

        /* === STYLE DLA JAVA MANAGERA (tab-java) === */
        .java-manager-container { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
        @media (max-width: 768px) { .java-manager-container { grid-template-columns: 1fr; } }
        .java-section { background-color: rgba(40, 40, 60, 0.8); padding: 25px; border-radius: 10px; border: 1px solid #444; }
        .java-info-box { background-color: rgba(20, 20, 30, 0.95); padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #444; }
        .java-info-box h3 { color: #2ecc71; margin-bottom: 15px; font-size: 1.2rem; }
        .java-info-item { margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .java-info-label { color: #95a5a6; font-weight: bold; margin-right: 10px; }
        .java-info-value { color: #3498db; }
        .java-versions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        .java-version-card { background-color: rgba(20, 20, 30, 0.95); padding: 20px; border-radius: 8px; border: 1px solid #444; transition: all 0.3s ease; }
        .java-version-card:hover { border-color: #3498db; transform: translateY(-5px); }
        .java-version-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .java-version-name { font-size: 1.3rem; font-weight: bold; color: #3498db; }
        .java-version-status { font-size: 0.8rem; padding: 3px 8px; border-radius: 12px; font-weight: bold; }
        .status-installed { background-color: rgba(46, 204, 113, 0.2); color: #2ecc71; border: 1px solid #2ecc71; }
        .status-not-installed { background-color: rgba(149, 165, 166, 0.2); color: #95a5a6; border: 1px solid #95a5a6; }
        .status-recommended { background-color: rgba(52, 152, 219, 0.2); color: #3498db; border: 1px solid #3498db; }
        .minecraft-versions-table { width: 100%; border-collapse: collapse; margin-top: 20px; background-color: rgba(20, 20, 30, 0.95); border-radius: 8px; overflow: hidden; }
        .minecraft-versions-table th { background-color: #2c3e50; padding: 15px; text-align: left; color: #3498db; font-weight: bold; }
        .minecraft-versions-table td { padding: 12px 15px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }

        /* Modal i Notification */
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.8); z-index: 1000; justify-content: center; align-items: center; padding: 20px; }
        .modal.active { display: flex; }
        .modal-content { background-color: #1a1a2e; border-radius: 15px; max-width: 800px; width: 100%; max-height: 90vh; overflow: hidden; border: 3px solid #3498db; box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7); }
        .modal-header { background-color: #3498db; padding: 20px; display: flex; justify-content: space-between; align-items: center; color: white; }
        .modal-body { padding: 25px; overflow-y: auto; max-height: 60vh; }
        .modal-footer { padding: 20px 25px; background-color: rgba(40, 40, 60, 0.8); display: flex; justify-content: flex-end; gap: 15px; }
        .form-group { margin-bottom: 20px; }
        .form-control { width: 100%; padding: 12px 15px; background-color: #2c3e50; color: white; border: 1px solid #444; border-radius: 6px; font-size: 16px; }
        textarea.form-control { min-height: 300px; font-family: 'Courier New', monospace; font-size: 14px; line-height: 1.5; resize: vertical; }
        .notification { position: fixed; top: 20px; right: 20px; padding: 15px 25px; border-radius: 8px; color: white; font-weight: bold; z-index: 1001; animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s forwards; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); max-width: 400px; display: flex; align-items: center; gap: 10px; }
        .notification.success { background-color: #2ecc71; }
        .notification.error { background-color: #e74c3c; }
        .notification.warning { background-color: #f39c12; }
        .notification.info { background-color: #3498db; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

        /* Loading */
        .loading { text-align: center; padding: 40px; color: #95a5a6; }
        .spinner { display: inline-block; width: 40px; height: 40px; border: 4px solid rgba(52, 152, 219, 0.3); border-radius: 50%; border-top-color: #3498db; animation: spin 1s linear infinite; margin-bottom: 15px; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* EULA Warning Box */
        .eula-warning-box { background-color: rgba(231, 76, 60, 0.1); border: 2px solid #e74c3c; border-radius: 10px; padding: 20px; margin-bottom: 25px; text-align: center; }
        .eula-warning-box h3 { color: #e74c3c; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px; }

        footer { text-align: center; padding-top: 20px; margin-top: 30px; border-top: 1px solid #444; color: #95a5a6; font-size: 0.9rem; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-gamepad"></i> Minecraft Server Control Panel</h1>
            <p class="subtitle">ZarzƒÖdzaj serwerem Minecraft z poziomu przeglƒÖdarki</p>
        </header>

        <!-- Nawigacja zak≈Çadek -->
        <div class="nav-tabs">
            <div class="nav-tab active" data-tab="tab-server">
                <i class="fas fa-server"></i> Panel Serwera
            </div>
            <div class="nav-tab" data-tab="tab-files">
                <i class="fas fa-folder-open"></i> File Manager
            </div>
            <div class="nav-tab" data-tab="tab-java">
                <i class="fab fa-java"></i> Java Manager
            </div>
        </div>

        <!-- ========== ZAK≈ÅADKA: PANEL SERWERA ========== -->
        <div id="tab-server" class="tab-content active">
            <!-- EULA Warning Box -->
            <div class="eula-warning-box" id="eulaWarningBox" style="display: none;">
                <h3><i class="fas fa-exclamation-triangle"></i> WYMAGANA AKCEPTACJA EULA</h3>
                <p>Aby uruchomiƒá serwer Minecraft, musisz zaakceptowaƒá Minecraft EULA (End User License Agreement).</p>
                <button class="btn btn-primary" id="showEulaBtn">
                    <i class="fas fa-file-contract"></i> Zaakceptuj EULA
                </button>
            </div>

            <div class="control-panel">
                <div class="status-box">
                    <h2><i class="fas fa-server"></i> Status Serwera</h2>
                    <div id="serverStatus" class="status zatrzymany">
                        <span class="status-icon">‚≠ï</span>
                        <span id="statusText">≈Åadowanie...</span>
                    </div>
                    <div class="server-info">
                        <p><strong>Silnik:</strong> <span id="engineInfo">Paper</span></p>
                        <p><strong>Wersja:</strong> <span id="versionInfo">1.20.4</span></p>
                        <p><strong>Graczy online:</strong> <span id="playerCount">0</span></p>
                        <p><strong>EULA Status:</strong> <span id="eulaStatus">Sprawdzanie...</span></p>
                        <p><strong>Ostatnia aktualizacja:</strong> <span id="lastUpdate">-</span></p>
                    </div>
                </div>

                <div class="buttons">
                    <h2><i class="fas fa-cogs"></i> Kontrola</h2>
                    <div class="button-group">
                        <button class="btn btn-success" id="startBtn">
                            <i class="fas fa-play"></i> Start Serwera
                        </button>
                        <button class="btn btn-danger" id="stopBtn" disabled>
                            <i class="fas fa-stop"></i> Stop Serwera
                        </button>
                        <button class="btn btn-warning" id="restartBtn" disabled>
                            <i class="fas fa-redo"></i> Restart Serwera
                        </button>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-primary" id="eulaStatusBtn">
                            <i class="fas fa-file-contract"></i> EULA Status
                        </button>
                        <button class="btn btn-primary" id="refreshStatusBtn">
                            <i class="fas fa-sync-alt"></i> Od≈õwie≈º Status
                        </button>
                    </div>
                    <p class="hint">Upewnij siƒô, ≈ºe zaakceptowa≈Çe≈õ EULA przed uruchomieniem serwera.</p>
                </div>
            </div>

            <div class="console-container">
                <div class="console-header">
                    <h2><i class="fas fa-terminal"></i> Konsola Serwera</h2>
                    <div class="console-controls">
                        <div class="auto-refresh">
                            <input type="checkbox" id="autoRefresh" checked>
                            <label for="autoRefresh">Auto-od≈õwie≈ºanie</label>
                        </div>
                        <button class="btn btn-small btn-primary" id="clearConsoleBtn">
                            <i class="fas fa-broom"></i> Wyczy≈õƒá
                        </button>
                    </div>
                </div>
                <div class="console-output">
                    <div id="consoleLog" class="loading">
                        <div class="spinner"></div>
                        <p>≈Åadowanie konsoli...</p>
                    </div>
                </div>
                <div class="console-input">
                    <input type="text" id="commandInput" placeholder="Wpisz komendƒô Minecraft (np. /help, /say)...">
                    <button class="btn btn-primary" id="sendCommandBtn">
                        <i class="fas fa-paper-plane"></i> Wy≈õlij
                    </button>
                </div>
            </div>

            <div class="extra-menu">
                <h3><i class="fas fa-rocket"></i> Szybkie Akcje</h3>
                <div class="menu-grid">
                    <button class="btn btn-primary" id="quickBackupBtn">
                        <i class="fas fa-save"></i> Backup World
                    </button>
                    <button class="btn btn-primary" id="quickWhitelistBtn">
                        <i class="fas fa-user-check"></i> Whitelist
                    </button>
                    <button class="btn btn-primary" id="quickOpsBtn">
                        <i class="fas fa-user-shield"></i> OPs Manager
                    </button>
                    <button class="btn btn-primary" id="quickPropertiesBtn">
                        <i class="fas fa-file-alt"></i> server.properties
                    </button>
                </div>
            </div>

            <div class="connection-info">
                <h3><i class="fas fa-info-circle"></i> Informacje o po≈ÇƒÖczeniu</h3>
                <p><strong>Adres serwera API:</strong> <code id="apiUrl">https://turbo-fortnight-wr757r5wr7wrfgw75-5001.app.github.dev</code></p>
                <p><strong>Status po≈ÇƒÖczenia:</strong> <span id="connectionStatus" class="status zatrzymany">≈ÅƒÖczenie...</span></p>
                <p><strong>≈öcie≈ºka serwera:</strong> <code>/workspaces/codespaces-blank/minecraft_serwer</code></p>
            </div>
        </div>

        <!-- ========== ZAK≈ÅADKA: FILE MANAGER ========== -->
        <div id="tab-files" class="tab-content">
            <div class="file-manager-container">
                <div class="file-actions-sidebar">
                    <h2><i class="fas fa-tools"></i> Akcje</h2>
                    <div class="file-actions-bar">
                        <button class="btn btn-primary" id="refreshFilesBtn">
                            <i class="fas fa-sync-alt"></i> Od≈õwie≈º
                        </button>
                        <button class="btn btn-success" id="uploadFileBtn">
                            <i class="fas fa-upload"></i> Upload
                        </button>
                        <button class="btn btn-primary" id="createFolderBtn">
                            <i class="fas fa-folder-plus"></i> Nowy Folder
                        </button>
                    </div>

                    <h2 style="margin-top: 30px;"><i class="fas fa-bolt"></i> Szybki Dostƒôp</h2>
                    <ul class="quick-access-list">
                        <li><a href="#" onclick="loadSpecificFile('server.properties')"><i class="fas fa-cog"></i> server.properties</a></li>
                        <li><a href="#" onclick="loadSpecificFile('eula.txt')"><i class="fas fa-file-contract"></i> eula.txt</a></li>
                        <li><a href="#" onclick="loadSpecificFile('ops.json')"><i class="fas fa-user-shield"></i> ops.json</a></li>
                        <li><a href="#" onclick="loadSpecificFile('whitelist.json')"><i class="fas fa-user-check"></i> whitelist.json</a></li>
                        <li><a href="#" onclick="loadSpecificFile('bukkit.yml')"><i class="fas fa-file-code"></i> bukkit.yml</a></li>
                        <li><a href="#" onclick="loadSpecificFile('spigot.yml')"><i class="fas fa-file-code"></i> spigot.yml</a></li>
                    </ul>
                </div>

                <div class="file-main-content">
                    <div class="file-path-display">
                        <div>
                            <span class="path-text" id="currentPathDisplay">/</span>
                        </div>
                        <div class="path-controls">
                            <button class="btn btn-small btn-primary" id="goHomeBtn">
                                <i class="fas fa-home"></i> Home
                            </button>
                            <button class="btn btn-small btn-primary" id="goUpBtn" style="display: none;">
                                <i class="fas fa-level-up-alt"></i> Up
                            </button>
                        </div>
                    </div>

                    <div id="fileManagerContent">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>≈Åadowanie plik√≥w...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== ZAK≈ÅADKA: JAVA MANAGER ========== -->
        <div id="tab-java" class="tab-content">
            <div class="java-manager-container">
                <div class="java-section">
                    <h2><i class="fas fa-info-circle"></i> Aktualny Status Java</h2>
                    
                    <div class="java-info-box">
                        <h3><i class="fas fa-server"></i> System Java</h3>
                        <div class="java-info-item">
                            <span class="java-info-label">Wersja:</span>
                            <span class="java-info-value" id="systemJavaVersion">Sprawdzanie...</span>
                        </div>
                        <div class="java-info-item">
                            <span class="java-info-label">Status:</span>
                            <span class="java-info-value" id="systemJavaStatus">Sprawdzanie...</span>
                        </div>
                        <div class="java-info-item">
                            <span class="java-info-label">≈öcie≈ºka:</span>
                            <span class="java-info-value" id="systemJavaPath">Sprawdzanie...</span>
                        </div>
                    </div>

                    <div class="java-info-box">
                        <h3><i class="fas fa-download"></i> Postƒôp Pobierania</h3>
                        <div id="downloadProgressSection" style="display: none;">
                            <div class="java-info-item">
                                <span class="java-info-label">Wersja:</span>
                                <span class="java-info-value" id="downloadingVersion">-</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="downloadProgressBar"></div>
                            </div>
                            <div class="java-info-item">
                                <span class="java-info-label">Status:</span>
                                <span class="java-info-value" id="downloadStatus">-</span>
                            </div>
                        </div>
                        <div id="noDownloadSection">
                            <p style="color: #95a5a6; text-align: center;">Brak aktywnych pobra≈Ñ</p>
                        </div>
                    </div>
                </div>

                <div class="java-section">
                    <h2><i class="fas fa-download"></i> Pobierz NowƒÖ Wersjƒô</h2>
                    <p style="color: #95a5a6; margin-bottom: 20px;">Wybierz wersjƒô Java do pobrania i instalacji:</p>
                    
                    <div class="java-versions-grid" id="javaVersionsGrid">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>≈Åadowanie wersji Java...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="java-section">
                <h2><i class="fas fa-check-circle"></i> Zainstalowane Wersje</h2>
                <div id="installedJavaVersions">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>≈Åadowanie zainstalowanych wersji...</p>
                    </div>
                </div>
            </div>

            <div class="java-section">
                <h2><i class="fas fa-table"></i> Kompatybilno≈õƒá z Minecraft</h2>
                <p style="color: #95a5a6; margin-bottom: 20px;">Mapowanie wersji Minecraft na wymagane wersje Java:</p>
                
                <table class="minecraft-versions-table">
                    <thead>
                        <tr>
                            <th>Wersja Minecraft</th>
                            <th>Wymagana Java</th>
                            <th>Rekomendowana</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="minecraftCompatibilityTable">
                        <tr><td>1.21.x</td><td>Java 21</td><td><i class="fas fa-star" style="color: #f39c12;"></i> Tak</td><td><span class="status-recommended">Rekomendowana</span></td></tr>
                        <tr><td>1.20.x</td><td>Java 17</td><td><i class="fas fa-star" style="color: #f39c12;"></i> Tak</td><td><span class="status-recommended">Rekomendowana</span></td></tr>
                        <tr><td>1.19.x</td><td>Java 17</td><td><i class="fas fa-check" style="color: #2ecc71;"></i> Tak</td><td><span class="status-installed">Wspierana</span></td></tr>
                        <tr><td>1.18.x</td><td>Java 17</td><td><i class="fas fa-check" style="color: #2ecc71;"></i> Tak</td><td><span class="status-installed">Wspierana</span></td></tr>
                        <tr><td>1.17.x</td><td>Java 16</td><td><i class="fas fa-check" style="color: #2ecc71;"></i> Tak</td><td><span class="status-installed">Wspierana</span></td></tr>
                        <tr><td>1.16.x</td><td>Java 8</td><td><i class="fas fa-check" style="color: #2ecc71;"></i> Tak</td><td><span class="status-installed">Wspierana</span></td></tr>
                        <tr><td>1.12.x</td><td>Java 8</td><td><i class="fas fa-check" style="color: #2ecc71;"></i> Tak</td><td><span class="status-installed">Wspierana</span></td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <footer>
            <p>Minecraft Server Control Panel v3.0 | Panel sterowania serwerem Minecraft</p>
            <p>Uwaga: Serwer Minecraft musi mieƒá zaakceptowane EULA przed uruchomieniem.</p>
        </footer>
    </div>

    <!-- ========== MODALE ========== -->
    <!-- Modal EULA -->
    <div class="modal" id="eulaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-file-contract"></i> Akceptacja Minecraft EULA</h2>
                <button class="btn btn-small btn-danger" onclick="hideModal('eulaModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="eula-text">
                    <h3>Minecraft End User License Agreement (EULA)</h3>
                    <p>Aby uruchomiƒá serwer Minecraft, musisz zaakceptowaƒá warunki licencyjne Mojang Studios:</p>
                    <ol>
                        <li>Posiadasz legalnƒÖ kopiƒô gry Minecraft</li>
                        <li>Nie bƒôdziesz u≈ºywaƒá serwera do komercyjnych cel√≥w bez odpowiedniej licencji</li>
                        <li>Bƒôdziesz przestrzegaƒá zasad spo≈Çeczno≈õci Minecraft</li>
                        <li>Serwer bƒôdzie u≈ºywany zgodnie z przeznaczeniem</li>
                    </ol>
                    <p><strong>Pe≈Çna tre≈õƒá EULA:</strong> <a href="https://aka.ms/MinecraftEULA" target="_blank" style="color: #3498db;">https://aka.ms/MinecraftEULA</a></p>
                    <div class="eula-warning">
                        <p><strong><i class="fas fa-exclamation-triangle"></i> WA≈ªNE:</strong> Klikniƒôcie przycisku "Akceptujƒô EULA" spowoduje automatycznƒÖ zmianƒô pliku <code>eula.txt</code> w folderze serwera z <code>eula=false</code> na <code>eula=true</code>. Jest to wymagane przez Mojang Studios do legalnego uruchomienia serwera.</p>
                    </div>
                    <p>Po zaakceptowaniu EULA bƒôdziesz m√≥g≈Ç uruchomiƒá serwer Minecraft.</p>
                </div>
            </div>
            <div class="modal-footer">
                <div>
                    <p><i class="fas fa-info-circle"></i> Status EULA: <span id="currentEulaStatus">Nieznany</span></p>
                </div>
                <div class="eula-buttons">
                    <button class="btn btn-primary" id="acceptEulaBtn">
                        <i class="fas fa-check-circle"></i> Akceptujƒô EULA
                    </button>
                    <button class="btn btn-danger" onclick="hideModal('eulaModal')">
                        <i class="fas fa-times-circle"></i> Anuluj
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Upload -->
    <div class="modal" id="uploadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-upload"></i> Upload Pliku</h2>
                <button class="btn btn-small btn-danger" onclick="hideModal('uploadModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="uploadFolderPath">Folder docelowy:</label>
                    <input type="text" id="uploadFolderPath" class="form-control" placeholder="(pozostaw puste dla g≈Ç√≥wnego folderu)" value="">
                </div>
                <div class="form-group">
                    <label for="fileToUpload">Wybierz plik:</label>
                    <input type="file" id="fileToUpload" class="form-control">
                </div>
                <div class="upload-progress" id="uploadProgress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="uploadProgressBar"></div>
                    </div>
                    <p id="uploadStatus">Przygotowywanie...</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="performUpload()">
                    <i class="fas fa-upload"></i> Upload
                </button>
                <button class="btn btn-danger" onclick="hideModal('uploadModal')">
                    <i class="fas fa-times"></i> Anuluj
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Nowy Folder -->
    <div class="modal" id="newFolderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-folder-plus"></i> Nowy Folder</h2>
                <button class="btn btn-small btn-danger" onclick="hideModal('newFolderModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="newFolderName">Nazwa folderu:</label>
                    <input type="text" id="newFolderName" class="form-control" placeholder="np. config, plugins...">
                </div>
                <div class="form-group">
                    <label for="newFolderPath">≈öcie≈ºka (opcjonalnie):</label>
                    <input type="text" id="newFolderPath" class="form-control" placeholder="(pozostaw puste dla bie≈ºƒÖcego folderu)">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="createFolder()">
                    <i class="fas fa-folder-plus"></i> Utw√≥rz
                </button>
                <button class="btn btn-danger" onclick="hideModal('newFolderModal')">
                    <i class="fas fa-times"></i> Anuluj
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Edycji Pliku -->
    <div class="modal" id="editFileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> Edycja Pliku</h2>
                <button class="btn btn-small btn-danger" onclick="hideModal('editFileModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="fileEditContent">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>≈Åadowanie pliku...</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-success" onclick="saveEditedFile()">
                    <i class="fas fa-save"></i> Zapisz
                </button>
                <button class="btn btn-danger" onclick="hideModal('editFileModal')">
                    <i class="fas fa-times"></i> Anuluj
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Zmiany Nazwy -->
    <div class="modal" id="renameModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-i-cursor"></i> Zmie≈Ñ Nazwƒô</h2>
                <button class="btn btn-small btn-danger" onclick="hideModal('renameModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="renameOldName">Obecna nazwa:</label>
                    <input type="text" id="renameOldName" class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="renameNewName">Nowa nazwa:</label>
                    <input type="text" id="renameNewName" class="form-control" placeholder="Wpisz nowƒÖ nazwƒô...">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="performRename()">
                    <i class="fas fa-check"></i> Zmie≈Ñ
                </button>
                <button class="btn btn-danger" onclick="hideModal('renameModal')">
                    <i class="fas fa-times"></i> Anuluj
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== KONFIGURACJA G≈Å√ìWNA ==========
        // USTAWIENIE: Wpisz tutaj adres Twojego backendu (serwera Python)
        const API_URL = "https://turbo-fortnight-wr757r5wr7wrfgw75-5001.app.github.dev";
        // Je≈õli backend dzia≈Ça lokalnie: "http://127.0.0.1:5001"
        // Je≈õli na Codespaces: "https://twoj-adres-codespaces.app.github.dev"

        let isConnected = false;
        let autoRefreshEnabled = true;
        let refreshInterval = null;
        let eulaAccepted = false;
        let currentFilePath = '';
        let currentEditingFile = '';
        let downloadCheckInterval = null;

        // ========== INICJALIZACJA ==========
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('apiUrl').textContent = API_URL;
            setupEventListeners();
            checkConnection();
            startAutoRefresh();
            setupTabNavigation();
            
            // Inicjalizacja Java Managera
            loadJavaInfo();
            loadAvailableJavaVersions();
            loadInstalledJavaVersions();
            downloadCheckInterval = setInterval(checkDownloadProgress, 2000);
        });

        // ========== OBS≈ÅUGA ZAK≈ÅADEK ==========
        function setupTabNavigation() {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Usu≈Ñ klasƒô active ze wszystkich zak≈Çadek i zawarto≈õci
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Dodaj klasƒô active do klikniƒôtej zak≈Çadki i odpowiadajƒÖcej zawarto≈õci
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Je≈õli prze≈ÇƒÖczamy siƒô na File Manager, ≈Çaduj pliki
                    if (tabId === 'tab-files') {
                        loadFiles(currentFilePath || '');
                    }
                });
            });
        }

        // ========== FUNKCJE PANELU SERWERA ==========
        // ... (TUTAJ WKLEJ CA≈ÅY KOD JAVASCRIPT Z TWOJEGO ORYGINALNEGO index.html
        //     - funkcje setupEventListeners, checkConnection, checkStatus, updateStatus,
        //       updateEulaStatus, sendCommand, sendCustomCommand, acceptEula,
        //       displayLogs, logToConsole, clearConsole, getLogType,
        //       updateConnectionStatus, startAutoRefresh, stopAutoRefresh,
        //       showNotification, escapeHtml, createBackup, itp.)
        // ... (To jest zbyt du≈ºy kod, ≈ºeby go tu powielaƒá, ale masz go wcze≈õniej)

        // ========== FUNKCJE FILE MANAGERA ==========
        // ... (TUTAJ WKLEJ CA≈ÅY KOD JAVASCRIPT Z TWOJEGO filemanager.html
        //     - funkcje showModal, hideModal, loadFiles, updateFileDisplay,
        //       formatFileSize, goUpFolder, editFile, saveEditedFile,
        //       renameFile, performRename, deleteFile, createFolder,
        //       performUpload, loadSpecificFile, itp.)
        // ... (To jest zbyt du≈ºy kod, ≈ºeby go tu powielaƒá, ale masz go wcze≈õniej)

        // ========== FUNKCJE JAVA MANAGERA ==========
        // ... (TUTAJ WKLEJ CA≈ÅY KOD JAVASCRIPT Z TWOJEGO javamanager.html
        //     - funkcje loadJavaInfo, loadAvailableJavaVersions, loadInstalledJavaVersions,
        //       getJavaVersionDescription, getMinecraftCompatibility, downloadJavaVersion,
        //       checkDownloadProgress, setJavaVersion, itp.)
        // ... (To jest zbyt du≈ºy kod, ≈ºeby go tu powielaƒá, ale masz go wcze≈õniej)

        // ========== WSP√ìLNE FUNKCJE ==========
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                if (modalId === 'uploadModal') {
                    document.getElementById('uploadFolderPath').value = currentFilePath;
                    document.getElementById('uploadProgress').style.display = 'none';
                    document.getElementById('uploadProgressBar').style.width = '0%';
                } else if (modalId === 'newFolderModal') {
                    document.getElementById('newFolderName').value = '';
                    document.getElementById('newFolderPath').value = currentFilePath;
                }
            }
        }

        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        function showNotification(message, type = 'info') {
            document.querySelectorAll('.notification').forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 3000);
        }

        // Cleanup przy zamkniƒôciu strony
        window.addEventListener('beforeunload', function() {
            if (refreshInterval) clearInterval(refreshInterval);
            if (downloadCheckInterval) clearInterval(downloadCheckInterval);
        });
    </script>
</body>
</html>
